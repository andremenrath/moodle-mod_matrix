<?xml version="1.0" encoding="UTF-8"?>
<files psalm-version="4.13.1@5cf660f63b548ccd4a56f62d916ee4d6028e01a3">
  <file src="index.php">
    <MissingFile occurrences="1">
      <code>require_once '../../config.php'</code>
    </MissingFile>
    <MixedAssignment occurrences="2">
      <code>$course</code>
      <code>$id</code>
    </MixedAssignment>
    <MixedMethodCall occurrences="1">
      <code>get_record</code>
    </MixedMethodCall>
    <UndefinedFunction occurrences="2">
      <code>print_error('Course ID is incorrect')</code>
      <code>required_param('id', PARAM_INT)</code>
    </UndefinedFunction>
    <UndefinedGlobalVariable occurrences="1">
      <code>$DB</code>
    </UndefinedGlobalVariable>
    <UnusedVariable occurrences="1">
      <code>$course</code>
    </UnusedVariable>
  </file>
  <file src="lib.php">
    <DocblockTypeContradiction occurrences="1">
      <code>\is_string($feature)</code>
    </DocblockTypeContradiction>
    <InvalidGlobal occurrences="1">
      <code>global $CFG;</code>
    </InvalidGlobal>
    <MissingDependency occurrences="1">
      <code>mod_matrix_mod_form</code>
    </MissingDependency>
    <MissingReturnType occurrences="2">
      <code>matrix_add_instance</code>
      <code>matrix_update_instance</code>
    </MissingReturnType>
    <UndefinedConstant occurrences="10">
      <code>FEATURE_BACKUP_MOODLE2</code>
      <code>FEATURE_COMPLETION_HAS_RULES</code>
      <code>FEATURE_COMPLETION_TRACKS_VIEWS</code>
      <code>FEATURE_GRADE_HAS_GRADE</code>
      <code>FEATURE_GRADE_OUTCOMES</code>
      <code>FEATURE_GROUPINGS</code>
      <code>FEATURE_GROUPS</code>
      <code>FEATURE_IDNUMBER</code>
      <code>FEATURE_MOD_INTRO</code>
      <code>FEATURE_SHOW_DESCRIPTION</code>
    </UndefinedConstant>
  </file>
  <file src="mod_form.php">
    <MixedOperand occurrences="1">
      <code>$CFG-&gt;dirroot</code>
    </MixedOperand>
    <MixedPropertyFetch occurrences="1">
      <code>$CFG-&gt;dirroot</code>
    </MixedPropertyFetch>
    <UndefinedClass occurrences="1">
      <code>moodleform_mod</code>
    </UndefinedClass>
    <UndefinedGlobalVariable occurrences="1">
      <code>$CFG</code>
    </UndefinedGlobalVariable>
    <UnresolvableInclude occurrences="1">
      <code>require_once $CFG-&gt;dirroot . '/course/moodleform_mod.php'</code>
    </UnresolvableInclude>
  </file>
  <file src="settings.php">
    <UndefinedClass occurrences="4">
      <code>admin_setting_configtext</code>
      <code>admin_setting_configtext</code>
      <code>admin_setting_configtext</code>
      <code>admin_setting_heading</code>
    </UndefinedClass>
    <UndefinedDocblockClass occurrences="6">
      <code>$ADMIN-&gt;fulltree</code>
      <code>$settings</code>
      <code>$settings</code>
      <code>$settings</code>
    </UndefinedDocblockClass>
    <UndefinedFunction occurrences="7"/>
  </file>
  <file src="src/Container.php">
    <MissingClosureReturnType occurrences="1">
      <code>static function () use ($closure, $container) {</code>
    </MissingClosureReturnType>
    <MissingReturnType occurrences="1">
      <code>resolve</code>
    </MissingReturnType>
    <MixedArgument occurrences="3">
      <code>$object</code>
      <code>\moodle_database::class</code>
      <code>\moodle_database::class</code>
    </MixedArgument>
    <MixedAssignment occurrences="2">
      <code>$object</code>
      <code>$service</code>
    </MixedAssignment>
    <MixedInferredReturnType occurrences="12">
      <code>Clock\Clock</code>
      <code>Matrix\Application\Api</code>
      <code>Matrix\Application\Configuration</code>
      <code>Matrix\Application\MatrixService</code>
      <code>Moodle\Application\ModuleService</code>
      <code>Moodle\Domain\CourseRepository</code>
      <code>Moodle\Domain\GroupRepository</code>
      <code>Moodle\Domain\ModuleRepository</code>
      <code>Moodle\Domain\RoomRepository</code>
      <code>Moodle\Domain\UserRepository</code>
      <code>\moodle_database</code>
      <code>\moodle_database</code>
    </MixedInferredReturnType>
    <MixedPropertyTypeCoercion occurrences="1">
      <code>$this-&gt;services</code>
    </MixedPropertyTypeCoercion>
    <MixedReturnStatement occurrences="11">
      <code>$this-&gt;resolve(Clock\Clock::class)</code>
      <code>$this-&gt;resolve(Matrix\Application\Api::class)</code>
      <code>$this-&gt;resolve(Matrix\Application\Configuration::class)</code>
      <code>$this-&gt;resolve(Matrix\Application\MatrixService::class)</code>
      <code>$this-&gt;resolve(Moodle\Application\ModuleService::class)</code>
      <code>$this-&gt;resolve(Moodle\Domain\CourseRepository::class)</code>
      <code>$this-&gt;resolve(Moodle\Domain\GroupRepository::class)</code>
      <code>$this-&gt;resolve(Moodle\Domain\ModuleRepository::class)</code>
      <code>$this-&gt;resolve(Moodle\Domain\RoomRepository::class)</code>
      <code>$this-&gt;resolve(Moodle\Domain\UserRepository::class)</code>
      <code>$this-&gt;resolve(\moodle_database::class)</code>
    </MixedReturnStatement>
    <UndefinedClass occurrences="5">
      <code>\moodle_database</code>
      <code>\moodle_database</code>
      <code>\moodle_database</code>
      <code>\moodle_database</code>
      <code>\moodle_database</code>
    </UndefinedClass>
    <UndefinedFunction occurrences="1">
      <code>get_config('mod_matrix')</code>
    </UndefinedFunction>
  </file>
  <file src="src/Matrix/Application/Api.php">
    <MissingReturnType occurrences="1">
      <code>getState</code>
    </MissingReturnType>
  </file>
  <file src="src/Matrix/Application/MatrixService.php">
    <DeprecatedProperty occurrences="24">
      <code>$this-&gt;courseRepository</code>
      <code>$this-&gt;courseRepository</code>
      <code>$this-&gt;groupRepository</code>
      <code>$this-&gt;groupRepository</code>
      <code>$this-&gt;moduleRepository</code>
      <code>$this-&gt;moduleRepository</code>
      <code>$this-&gt;moduleRepository</code>
      <code>$this-&gt;moduleRepository</code>
      <code>$this-&gt;moduleRepository</code>
      <code>$this-&gt;roomRepository</code>
      <code>$this-&gt;roomRepository</code>
      <code>$this-&gt;roomRepository</code>
      <code>$this-&gt;roomRepository</code>
      <code>$this-&gt;roomRepository</code>
      <code>$this-&gt;roomRepository</code>
      <code>$this-&gt;roomRepository</code>
      <code>$this-&gt;roomRepository</code>
      <code>$this-&gt;userRepository</code>
      <code>$this-&gt;userRepository</code>
      <code>$this-&gt;userRepository</code>
      <code>$this-&gt;userRepository</code>
      <code>$this-&gt;userRepository</code>
      <code>$this-&gt;userRepository</code>
      <code>$this-&gt;userRepository</code>
    </DeprecatedProperty>
    <MixedArgument occurrences="2">
      <code>$CFG-&gt;wwwroot</code>
      <code>$powerLevels</code>
    </MixedArgument>
    <MixedArrayAssignment occurrences="1">
      <code>$powerLevels['users']</code>
    </MixedArrayAssignment>
    <MixedAssignment occurrences="1">
      <code>$powerLevels</code>
    </MixedAssignment>
    <MixedPropertyFetch occurrences="1">
      <code>$CFG-&gt;wwwroot</code>
    </MixedPropertyFetch>
  </file>
  <file src="src/Matrix/Infrastructure/CurlBasedHttpClient.php">
    <MissingReturnType occurrences="3">
      <code>get</code>
      <code>post</code>
      <code>put</code>
    </MissingReturnType>
    <MixedAssignment occurrences="4">
      <code>$errorCode</code>
      <code>$errorMessage</code>
      <code>$httpErrorMessage</code>
      <code>$httpStatusCode</code>
    </MixedAssignment>
  </file>
  <file src="src/Matrix/Infrastructure/HttpClient.php">
    <MissingReturnType occurrences="3">
      <code>get</code>
      <code>post</code>
      <code>put</code>
    </MissingReturnType>
  </file>
  <file src="src/Matrix/Infrastructure/HttpClientBasedApi.php">
    <MissingReturnType occurrences="1">
      <code>getState</code>
    </MissingReturnType>
    <MixedArgument occurrences="3">
      <code>$event['state_key']</code>
      <code>$r['room_id']</code>
      <code>$r['user_id']</code>
    </MixedArgument>
    <MixedArrayAccess occurrences="3">
      <code>$members['chunk']</code>
      <code>$r['room_id']</code>
      <code>$r['user_id']</code>
    </MixedArrayAccess>
    <MixedAssignment occurrences="5">
      <code>$content</code>
      <code>$members</code>
      <code>$membership</code>
      <code>$r</code>
      <code>$r</code>
    </MixedAssignment>
  </file>
  <file src="src/Moodle/Infrastructure/DatabaseBasedModuleRepository.php">
    <MixedAssignment occurrences="1">
      <code>$id</code>
    </MixedAssignment>
    <PropertyNotSetInConstructor occurrences="2">
      <code>$database</code>
      <code>$moduleNormalizer</code>
    </PropertyNotSetInConstructor>
    <UndefinedClass occurrences="6">
      <code>$this-&gt;database</code>
      <code>$this-&gt;database</code>
      <code>$this-&gt;database</code>
      <code>$this-&gt;database</code>
      <code>$this-&gt;database</code>
      <code>\moodle_database</code>
    </UndefinedClass>
    <UndefinedConstant occurrences="1">
      <code>IGNORE_MISSING</code>
    </UndefinedConstant>
  </file>
  <file src="src/Moodle/Infrastructure/DatabaseBasedRoomRepository.php">
    <MixedAssignment occurrences="1">
      <code>$id</code>
    </MixedAssignment>
    <PropertyNotSetInConstructor occurrences="2">
      <code>$database</code>
      <code>$roomNormalizer</code>
    </PropertyNotSetInConstructor>
    <UndefinedClass occurrences="7">
      <code>$this-&gt;database</code>
      <code>$this-&gt;database</code>
      <code>$this-&gt;database</code>
      <code>$this-&gt;database</code>
      <code>$this-&gt;database</code>
      <code>$this-&gt;database</code>
      <code>\moodle_database</code>
    </UndefinedClass>
    <UndefinedConstant occurrences="1">
      <code>IGNORE_MISSING</code>
    </UndefinedConstant>
  </file>
  <file src="src/Moodle/Infrastructure/EventSubscriber.php">
    <MixedArgumentTypeCoercion occurrences="1"/>
    <MixedArrayOffset occurrences="1"/>
    <UndefinedClass occurrences="20">
      <code>event\group_created</code>
      <code>event\group_created</code>
      <code>event\group_member_added</code>
      <code>event\group_member_added</code>
      <code>event\group_member_removed</code>
      <code>event\group_member_removed</code>
      <code>event\role_assigned</code>
      <code>event\role_assigned</code>
      <code>event\role_capabilities_updated</code>
      <code>event\role_capabilities_updated</code>
      <code>event\role_deleted</code>
      <code>event\role_deleted</code>
      <code>event\role_unassigned</code>
      <code>event\role_unassigned</code>
      <code>event\user_enrolment_created</code>
      <code>event\user_enrolment_created</code>
      <code>event\user_enrolment_deleted</code>
      <code>event\user_enrolment_deleted</code>
      <code>event\user_enrolment_updated</code>
      <code>event\user_enrolment_updated</code>
    </UndefinedClass>
  </file>
  <file src="src/Moodle/Infrastructure/MoodleFunctionBasedCourseRepository.php">
    <UndefinedFunction occurrences="1">
      <code>get_course($courseId-&gt;toInt())</code>
    </UndefinedFunction>
  </file>
  <file src="src/Moodle/Infrastructure/MoodleFunctionBasedGroupRepository.php">
    <UndefinedFunction occurrences="1">
      <code>groups_get_group($groupId-&gt;toInt())</code>
    </UndefinedFunction>
  </file>
  <file src="src/Moodle/Infrastructure/MoodleFunctionBasedUserRepository.php">
    <DocblockTypeContradiction occurrences="1">
      <code>\is_array($users)</code>
    </DocblockTypeContradiction>
    <MixedReturnTypeCoercion occurrences="4">
      <code>array</code>
      <code>array</code>
    </MixedReturnTypeCoercion>
    <UndefinedFunction occurrences="2">
      <code>profile_load_custom_fields($user)</code>
    </UndefinedFunction>
  </file>
  <file src="src/Moodle/Infrastructure/RoomNormalizer.php">
    <MixedArgument occurrences="1">
      <code>$normalized-&gt;room_id</code>
    </MixedArgument>
  </file>
  <file src="test/DataProvider/Moodle/Domain/ModuleNameProvider.php">
    <LessSpecificReturnStatement occurrences="2"/>
    <MoreSpecificReturnType occurrences="2">
      <code>\Generator&lt;string, array{0: string}&gt;</code>
      <code>\Generator&lt;string, array{0: string}&gt;</code>
    </MoreSpecificReturnType>
  </file>
  <file src="test/Unit/Matrix/Infrastructure/HttpClientBasedApiTest.php">
    <MixedArgumentTypeCoercion occurrences="3">
      <code>$faker-&gt;words()</code>
      <code>$faker-&gt;words()</code>
      <code>$faker-&gt;words()</code>
    </MixedArgumentTypeCoercion>
    <MixedAssignment occurrences="1">
      <code>$actual</code>
    </MixedAssignment>
    <PossiblyInvalidArgument occurrences="3">
      <code>$faker-&gt;words()</code>
      <code>$faker-&gt;words()</code>
      <code>$faker-&gt;words()</code>
    </PossiblyInvalidArgument>
  </file>
  <file src="test/Unit/Moodle/Infrastructure/DatabaseBasedModuleRepositoryTest.php">
    <InvalidArgument occurrences="7">
      <code>$database</code>
      <code>$database</code>
      <code>$database</code>
      <code>$database</code>
      <code>$database</code>
      <code>$database</code>
      <code>$database</code>
    </InvalidArgument>
    <MixedArgument occurrences="7">
      <code>\moodle_database::class</code>
      <code>\moodle_database::class</code>
      <code>\moodle_database::class</code>
      <code>\moodle_database::class</code>
      <code>\moodle_database::class</code>
      <code>\moodle_database::class</code>
      <code>\moodle_database::class</code>
    </MixedArgument>
    <UndefinedClass occurrences="7">
      <code>\moodle_database</code>
      <code>\moodle_database</code>
      <code>\moodle_database</code>
      <code>\moodle_database</code>
      <code>\moodle_database</code>
      <code>\moodle_database</code>
      <code>\moodle_database</code>
    </UndefinedClass>
    <UndefinedConstant occurrences="2">
      <code>IGNORE_MISSING</code>
      <code>IGNORE_MISSING</code>
    </UndefinedConstant>
  </file>
  <file src="test/Unit/Moodle/Infrastructure/DatabaseBasedRoomRepositoryTest.php">
    <InvalidArgument occurrences="8">
      <code>$database</code>
      <code>$database</code>
      <code>$database</code>
      <code>$database</code>
      <code>$database</code>
      <code>$database</code>
      <code>$database</code>
      <code>$database</code>
    </InvalidArgument>
    <MixedArgument occurrences="13">
      <code>$normalized-&gt;room_id</code>
      <code>$one-&gt;room_id</code>
      <code>$one-&gt;room_id</code>
      <code>$two-&gt;room_id</code>
      <code>$two-&gt;room_id</code>
      <code>\moodle_database::class</code>
      <code>\moodle_database::class</code>
      <code>\moodle_database::class</code>
      <code>\moodle_database::class</code>
      <code>\moodle_database::class</code>
      <code>\moodle_database::class</code>
      <code>\moodle_database::class</code>
      <code>\moodle_database::class</code>
    </MixedArgument>
    <UndefinedClass occurrences="8">
      <code>\moodle_database</code>
      <code>\moodle_database</code>
      <code>\moodle_database</code>
      <code>\moodle_database</code>
      <code>\moodle_database</code>
      <code>\moodle_database</code>
      <code>\moodle_database</code>
      <code>\moodle_database</code>
    </UndefinedClass>
    <UndefinedConstant occurrences="2">
      <code>IGNORE_MISSING</code>
      <code>IGNORE_MISSING</code>
    </UndefinedConstant>
  </file>
  <file src="test/Unit/Moodle/Infrastructure/EventSubscriberTest.php">
    <UndefinedClass occurrences="10">
      <code>event\group_created</code>
      <code>event\group_member_added</code>
      <code>event\group_member_removed</code>
      <code>event\role_assigned</code>
      <code>event\role_capabilities_updated</code>
      <code>event\role_deleted</code>
      <code>event\role_unassigned</code>
      <code>event\user_enrolment_created</code>
      <code>event\user_enrolment_deleted</code>
      <code>event\user_enrolment_updated</code>
    </UndefinedClass>
  </file>
  <file src="test/Unit/Twitter/BootstrapTest.php">
    <MixedInferredReturnType occurrences="1">
      <code>\Generator</code>
    </MixedInferredReturnType>
  </file>
  <file src="version.php">
    <MixedPropertyAssignment occurrences="6">
      <code>$plugin</code>
      <code>$plugin</code>
      <code>$plugin</code>
      <code>$plugin</code>
      <code>$plugin</code>
      <code>$plugin</code>
    </MixedPropertyAssignment>
    <UndefinedGlobalVariable occurrences="6">
      <code>$plugin</code>
      <code>$plugin</code>
      <code>$plugin</code>
      <code>$plugin</code>
      <code>$plugin</code>
      <code>$plugin</code>
    </UndefinedGlobalVariable>
  </file>
  <file src="view.php">
    <MissingFile occurrences="1">
      <code>require '../../config.php'</code>
    </MissingFile>
    <MixedArgument occurrences="14">
      <code>$cm-&gt;instance</code>
      <code>$course-&gt;fullname</code>
      <code>$groups</code>
      <code>$id</code>
      <code>$visibleGroups</code>
      <code>$visibleGroups</code>
      <code>$visibleGroups</code>
      <code>get_string('liketologin')</code>
    </MixedArgument>
    <MixedAssignment occurrences="7">
      <code>$group</code>
      <code>$group</code>
      <code>$groups</code>
      <code>$id</code>
      <code>$id</code>
      <code>$name</code>
      <code>$visibleGroups</code>
    </MixedAssignment>
    <MixedOperand occurrences="1">
      <code>$name</code>
    </MixedOperand>
    <MixedPropertyFetch occurrences="6">
      <code>$cm-&gt;id</code>
      <code>$cm-&gt;instance</code>
      <code>$course-&gt;fullname</code>
      <code>$course-&gt;id</code>
      <code>$group-&gt;id</code>
      <code>$group-&gt;id</code>
    </MixedPropertyFetch>
    <UndefinedConstant occurrences="1">
      <code>PARAM_INT</code>
    </UndefinedConstant>
    <UndefinedFunction occurrences="15">
      <code>get_login_url()</code>
      <code>get_string('liketologin')</code>
      <code>get_string(Moodle\Infrastructure\Internationalization::VIEW_BUTTON_JOIN_ROOM, Moodle\Application\Plugin::NAME)</code>
      <code>get_string(Moodle\Infrastructure\Internationalization::VIEW_BUTTON_JOIN_ROOM, Moodle\Application\Plugin::NAME)</code>
      <code>groups_get_activity_allowed_groups($cm)</code>
      <code>groups_get_group_name($group-&gt;id)</code>
      <code>require_login($course, true, $cm)</code>
      <code>required_param('id', PARAM_INT)</code>
    </UndefinedFunction>
    <UnusedVariable occurrences="1">
      <code>$id</code>
    </UnusedVariable>
  </file>
</files>
